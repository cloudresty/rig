# Rig Swagger

Swagger UI support for [Rig](https://github.com/cloudresty/rig).

This is a separate sub-package to keep the core Rig framework dependency-free.

## Installation

```bash
go get github.com/cloudresty/rig/swagger
```

## Usage

### With swaggo/swag (Recommended)

Generate your API spec using [swaggo/swag](https://github.com/swaggo/swag):

```bash
swag init
```

Then integrate with Rig:

```go
package main

import (
    "github.com/cloudresty/rig"
    "github.com/cloudresty/rig/swagger"
    _ "myapp/docs" // Generated by swag init
)

func main() {
    r := rig.New()

    // Your API routes
    r.GET("/api/v1/users", handleUsers)

    // Register Swagger UI
    sw := swagger.NewFromSwag("swagger")
    sw.Register(r, "/docs")

    r.Run(":8080")
}
```

### With Custom Spec

```go
spec := `{"openapi":"3.0.0","info":{"title":"My API","version":"1.0"}}`
sw := swagger.New(spec).
    WithTitle("My API Documentation").
    WithDocExpansion("list")
sw.Register(r, "/api-docs")
```

### With Route Groups

```go
api := r.Group("/api/v1")
sw := swagger.NewFromSwag("swagger")
sw.RegisterGroup(api, "/docs")
// Access at /api/v1/docs/
```

## API

| Method | Description |
|--------|-------------|
| `New(specJSON)` | Create with JSON spec string |
| `NewFromSwag(name)` | Create from swaggo/swag registered spec |
| `WithTitle(title)` | Set page title |
| `WithDeepLinking(bool)` | Enable/disable URL deep linking |
| `WithDocExpansion(mode)` | Set expansion: "list", "full", "none" |
| `Register(router, path)` | Register on Router |
| `RegisterGroup(group, path)` | Register on RouteGroup |

## License

MIT License - see [LICENSE](../LICENSE)

